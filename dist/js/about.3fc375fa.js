"use strict";(self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[]).push([[443],{2577:function(e,a,l){l.r(a),l.d(a,{default:function(){return c}});var t=l(3396);const o={class:"about"},n=(0,t._)("h1",null,"This is an about page",-1),s=[n];function r(e,a){return(0,t.wg)(),(0,t.iD)("div",o,s)}var d=l(89);const i={},u=(0,d.Z)(i,[["render",r]]);var c=u},7982:function(e,a,l){l.r(a),l.d(a,{default:function(){return k}});var t=l(3396),o=l(4870),n=l(7139),s=l(2287),r=l(2578),d=l(3187);const i={class:"m-auto w-full md:w-3/4"},u={class:"flex flex-col gap-2 w-full md:w-1/3 mt-12"},c=["disabled"],m={class:"flex flex-col gap-2 w-full md:w-1/2"},b=(0,t._)("h1",{class:"mb-4 mt-2 text-2xl font-bold text-gray-700 dark:text-white"}," Cambiar contraseña ",-1),w=["disabled"],g={key:0,class:"text-rose-500 text-sm"},p={class:"flex flex-col gap-2 w-full md:w-1/2"},f=(0,t._)("h1",{class:"mb-4 mt-2 text-2xl font-bold text-gray-700 dark:text-white"}," Mi sensor ",-1),v={class:"flex flex-auto gap-8 items-center"},h={class:"flex flex-col gap-2"},x={class:"text-gray-500 dark:text-gray-400"};var _={__name:"AjustesUsuarioView",setup(e){const a=(0,d.F)(),{user:l}=(0,r.Jk)(a),_=(0,o.iH)(!1),y=(0,o.iH)(""),k=(0,o.iH)(!1),C=(0,o.qj)({currentPassword:"",newPassword:"",repeatNewPassword:""}),U=(0,o.iH)("first"),V=(0,o.iH)([{uuid:"2f8eec06-6ded-11ed-a1eb-0242ac120002",activo:!0}]),I=e=>{k.value=e,e||(_.value=!0,setTimeout((()=>{_.value=!1}),1e3))},M=async()=>{if(C.newPassword===C.repeatNewPassword)try{var e=setTimeout((()=>{y.value="Connection timeout."}),5e3);_.value=!0;const l=await a.cambiarContrasenya(C.currentPassword,C.newPassword);l.success?(Object.keys(C).forEach((e=>C[e]="")),y.value="",alert(l.msg)):y.value=l.msg}catch(l){l.length>0?y.value=l[0].msg:y.value="Connection error."}finally{clearTimeout(e),_.value=!1}else y.value="Las contraseñas no coinciden"};return(e,a)=>((0,t.wg)(),(0,t.iD)("div",i,[(0,t.Wm)((0,o.SU)(s.mQ),{variant:"underline",modelValue:U.value,"onUpdate:modelValue":a[7]||(a[7]=e=>U.value=e),class:"p-4"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(s.OK),{name:"first",title:"Editar perfil"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(s.qE),{class:"hover:grayscale transition-1 w-fit",size:"xl",rounded:"",bordered:"",img:(0,o.SU)(l).profile_photo_url},null,8,["img"]),(0,t._)("div",u,[(0,t.Wm)((0,o.SU)(s.II),{class:"placeholder-gray-200",placeholder:"your nickname",label:"nickname",modelValue:(0,o.SU)(l).nickname,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.SU)(l).nickname=e),disabled:!k.value},null,8,["modelValue","disabled"]),(0,t.Wm)((0,o.SU)(s.II),{class:"placeholder-gray-200",placeholder:"your email",label:"email",modelValue:(0,o.SU)(l).email,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,o.SU)(l).email=e),disabled:!k.value},null,8,["modelValue","disabled"]),k.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("button",{key:0,type:"button",disabled:_.value,onClick:a[2]||(a[2]=e=>I(!0)),class:"disabled:bg-gray-600 mt-6 px-4 py-2 text-sm font-medium text-center text-white transition-colors duration-150 bg-blue-600 border border-transparent rounded-lg active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue"}," Editar perfil ",8,c)),k.value?((0,t.wg)(),(0,t.iD)("button",{key:1,onClick:a[3]||(a[3]=e=>I(!1)),class:"mt-6 px-4 py-2 text-sm font-medium text-center text-white transition-colors duration-150 bg-blue-600 border border-transparent rounded-lg active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue"}," Guardar cambios ")):(0,t.kq)("",!0),_.value?((0,t.wg)(),(0,t.j4)((0,o.SU)(s.$j),{key:2,class:"ml-4 self-end w-full",size:"4"})):(0,t.kq)("",!0)])])),_:1}),(0,t.Wm)((0,o.SU)(s.OK),{name:"second",title:"Cambiar contraseña"},{default:(0,t.w5)((()=>[(0,t._)("div",m,[b,(0,t.Wm)((0,o.SU)(s.II),{disabled:_.value,class:"placeholder-gray-200",placeholder:"enter your current password",label:"Contraseña antigua",type:"password",modelValue:C.currentPassword,"onUpdate:modelValue":a[4]||(a[4]=e=>C.currentPassword=e)},null,8,["disabled","modelValue"]),(0,t.Wm)((0,o.SU)(s.II),{disabled:_.value,class:"placeholder-gray-200",placeholder:"enter your new password",label:"Contraseña nueva",type:"password",modelValue:C.newPassword,"onUpdate:modelValue":a[5]||(a[5]=e=>C.newPassword=e)},null,8,["disabled","modelValue"]),(0,t.Wm)((0,o.SU)(s.II),{disabled:_.value,class:"placeholder-gray-200",placeholder:"repeat your new password",label:"Confirmar nueva contraseña",type:"password",modelValue:C.repeatNewPassword,"onUpdate:modelValue":a[6]||(a[6]=e=>C.repeatNewPassword=e)},null,8,["disabled","modelValue"]),(0,t._)("button",{type:"button",disabled:_.value,onClick:M,class:"disabled:bg-gray-600 mt-6 px-4 py-2 text-sm font-medium text-center text-white transition-colors duration-150 bg-blue-600 border border-transparent rounded-lg active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue"}," Cambiar contraseña ",8,w),y.value?((0,t.wg)(),(0,t.iD)("span",g,(0,n.zw)(y.value),1)):(0,t.kq)("",!0),_.value?((0,t.wg)(),(0,t.j4)((0,o.SU)(s.$j),{key:1,class:"ml-4 self-end w-full",size:"4"})):(0,t.kq)("",!0)])])),_:1}),(0,t.Wm)((0,o.SU)(s.OK),{name:"third",title:"Mi sensor"},{default:(0,t.w5)((()=>[(0,t._)("div",p,[f,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(V.value,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{key:a,class:"rounded-md border border-gray-300 bg-white dark:bg-slate-800 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"},[(0,t._)("div",v,[(0,t.Wm)((0,o.SU)(s.qE),{stacked:"",status:e.activo?"online":"offline",bordered:"",rounded:"",img:"https://i.pinimg.com/736x/05/ca/61/05ca610ff78bb9c6f23efc2039842cec.jpg"},null,8,["status"]),(0,t._)("div",h,[(0,t._)("p",x,(0,n.zw)(e.uuid),1),(0,t._)("div",{class:(0,n.C_)([[e.activo?"bg-green-100 dark:border-green-400 text-green-400 dark:text-green-500":"bg-red-100 dark:border-red-400 text-red-400 dark:text-red-500"],"w-fit dark:bg-slate-800 dark:border px-2 rounded"])},(0,n.zw)(e.activo?"Activo":"Inactivo"),3)])])])))),128))])])),_:1})])),_:1},8,["modelValue"])]))}};const y=_;var k=y},5986:function(e,a,l){l.r(a),l.d(a,{default:function(){return I}});var t=l(3396),o=l(7139),n=l.p+"img/cta-mapGrande.9780963d.png";const s=e=>((0,t.dD)("data-v-6085d174"),e=e(),(0,t.Cn)(),e),r={class:"flex items-center min-h-screen bg-white dark:bg-slate-800 rounded-xl"},d={class:"flex-1 h-full max-w-4xl mx-auto bg-white shadow sm:shadow-xl rounded-xl"},i={class:"flex flex-col md:flex-row rounder-xl"},u=s((()=>(0,t._)("div",{class:"h-32 md:h-auto md:w-1/2 hidden md:flex dark:bg-slate-900 rounded-xl"},[(0,t._)("img",{class:"object-cover w-full h-full rounded-xl",src:n,alt:"img"})],-1))),c={class:"flex items-center justify-center p-6 sm:p-12 md:w-1/2 dark:bg-slate-900 rounded-r-xl"},m={class:"w-full"},b=s((()=>(0,t._)("div",{class:"flex justify-center"},[(0,t._)("img",{class:"object-cover w-64",src:"logoco3.png",alt:"img"})],-1))),w={class:"flex items-center mb-4 mt-10"},g=s((()=>(0,t._)("h1",{class:"text-2xl text-left text-gray-700 dark:text-white"}," Iniciar sesión ",-1))),p={class:"flex flex-col gap-4"},f=s((()=>(0,t._)("a",{class:"text-sm text-blue-600 hover:underline",href:"./forgot-password.html"}," ¿Has olvidado tu contraseña? ",-1))),v={key:0,class:"text-rose-500 text-sm"};function h(e,a,l,n,s,h){const x=(0,t.up)("spinner"),_=(0,t.up)("Input");return(0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",d,[(0,t._)("div",i,[u,(0,t._)("div",c,[(0,t._)("div",m,[b,(0,t._)("div",w,[g,e.loading?((0,t.wg)(),(0,t.j4)(x,{key:0,class:"ml-4",size:"4"})):(0,t.kq)("",!0)]),(0,t._)("form",null,[(0,t._)("div",p,[(0,t.Wm)(_,{disabled:e.loading,modelValue:e.email,"onUpdate:modelValue":a[0]||(a[0]=a=>e.email=a),type:"email",class:"w-full",placeholder:"Correo electrónico"},null,8,["disabled","modelValue"]),(0,t.Wm)(_,{disabled:e.loading,modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=a=>e.password=a),class:"w-full",placeholder:"Contraseña",type:"password"},{helper:(0,t.w5)((()=>[f])),_:1},8,["disabled","modelValue"])]),(0,t._)("button",{type:"submit",onClick:a[2]||(a[2]=(...a)=>e.handleLoginButtonClick&&e.handleLoginButtonClick(...a)),class:"block w-full px-4 py-2 mt-4 text-sm font-medium leading-5 text-center text-white transition-colors duration-150 bg-blue-600 w-full border-transparent rounded-lg active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue",href:"#"}," Inicia sesión ")]),e.error?((0,t.wg)(),(0,t.iD)("span",v,(0,o.zw)(e.error),1)):(0,t.kq)("",!0)])])])])])}l(7658);var x=l(7867),_=l(4870),y=l(3187),k=l(2287),C=(0,t.aZ)({components:{Input:k.II,Spinner:k.$j},setup(){const e=(0,_.iH)(!1),a=(0,_.iH)(""),l=(0,_.iH)(""),t=(0,_.iH)(""),o=(0,y.F)(),n=async n=>{n.preventDefault();try{var s=setTimeout((()=>{a.value="Connection timeout.",e.value=!1}),5e3);e.value=!0,await o.login(l.value,t.value),x.Z.push("/")}catch(r){r.length>0?a.value=r[0].msg:a.value="Connection error."}finally{clearTimeout(s),e.value=!1}};return{email:l,password:t,error:a,loading:e,handleLoginButtonClick:n}}}),U=l(89);const V=(0,U.Z)(C,[["render",h],["__scopeId","data-v-6085d174"]]);var I=V},623:function(e,a,l){l.r(a),l.d(a,{default:function(){return y}});var t=l(3396);const o=e=>((0,t.dD)("data-v-ef284016"),e=e(),(0,t.Cn)(),e),n={class:"container"},s=o((()=>(0,t._)("h1",null,"Mediciones",-1)));function r(e,a,l,o,r,d){const i=(0,t.up)("MedicionesTabla");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",n,[s,(0,t.Wm)(i)])])}var d=l(7139);const i=e=>((0,t.dD)("data-v-16a0165a"),e=e(),(0,t.Cn)(),e),u=i((()=>(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"#"),(0,t._)("th",null,"Sensor"),(0,t._)("th",null,"Valor"),(0,t._)("th",null,"Latitud"),(0,t._)("th",null,"Longitud"),(0,t._)("th",null,"Fecha"),(0,t._)("th")])],-1))),c=["onClick"];function m(e,a,l,o,n,s){return(0,t.wg)(),(0,t.iD)("table",null,[u,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.mediciones,((a,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:l},[(0,t._)("td",null,(0,d.zw)(a.id),1),(0,t._)("td",null,(0,d.zw)(a.sensor),1),(0,t._)("td",null,(0,d.zw)(a.valor),1),(0,t._)("td",null,(0,d.zw)(a.lat),1),(0,t._)("td",null,(0,d.zw)(a.lon),1),(0,t._)("td",null,(0,d.zw)(e.$dayjs(a.createdAt).format("MMM D, YYYY h:mm A")),1),(0,t._)("td",null,[(0,t._)("button",{onClick:l=>e.eliminarMedicion(a.id)},"Eliminar",8,c)])])))),128))])])}var b=l(2578),w=l(1841);const g=(0,b.Q_)("mediciones",{state:()=>({mediciones:[]}),getters:{medicionesTotales(){return this.mediciones.length}},actions:{async cargarMediciones(){try{this.mediciones=await w.A.cargarMediciones()}catch(e){console.log(e)}},async eliminarMedicion(e){try{await w.A.eliminarMedicion(e)}catch(a){console.log(a)}}}});var p=(0,t.aZ)({name:"MedicionesTabla",setup(){const e=g(),{mediciones:a}=(0,b.Jk)(e);(0,t.bv)((()=>{console.log("MedicionesTabla : mounted")}));const l=a=>{e.eliminarMedicion(a),e.cargarMediciones()};return(0,t.Ah)((()=>{console.log("MedicionesTabla : unmounted")})),{mediciones:a,eliminarMedicion:l}}}),f=l(89);const v=(0,f.Z)(p,[["render",m],["__scopeId","data-v-16a0165a"]]);var h=v,x=(0,t.aZ)({name:"MedicionesView",components:{MedicionesTabla:h}});const _=(0,f.Z)(x,[["render",r],["__scopeId","data-v-ef284016"]]);var y=_}}]);
//# sourceMappingURL=about.3fc375fa.js.map